# 마음의 책장 프로젝트 진행사항

## 2025-01-19

### 완료된 작업

#### 1. 코드 정리 및 이모티콘 제거
- 모든 파일에서 이모티콘 제거 완료
- AI 생성 관련 문구 삭제
- 파일 목록:
  - `frontend/public/favicon.svg`
  - `frontend/public/landing/assets/js/config.js`
  - `backend/tts-server.js`
  - `frontend/public/landing/assets/js/storybook-navigation.js`
  - `frontend/public/landing/assets/js/tts-reader.js`
  - `frontend/public/landing/assets/js/display-storybook.js`
  - `backend/legacy-pages/assets/js/*` (동일 파일들)

#### 2. 랜딩 페이지 단순화
- 복잡한 폼 UI 제거
- 큰 "동화 만들러가기" 버튼만 남김
- 텍스트 정렬 및 버튼 스타일 수정
- 파일: `frontend/public/landing/index.html`

#### 3. 라우팅 수정
- SPA 라우팅을 위한 `_redirects` 파일 생성
- `/landing/*` 경로와 `/*` 경로 분리 처리
- 파일: `frontend/public/_redirects`

#### 4. 웹훅 URL 수정
- 잘못된 백엔드 URL 수정: `story-backend-51cl.onrender.com` → `story-backend.onrender.com`
- 파일: `frontend/src/pages/CreateInput.tsx`

#### 5. 백엔드 FormData 처리 추가
- `multer` 패키지 설치 및 설정
- `form-data` 패키지 설치
- `/api/proxy/voice-recording` 엔드포인트에 FormData 처리 로직 추가
- 파일: `backend/server.js`, `backend/package.json`

#### 6. CORS 설정 업데이트
- 새로운 프론트엔드 URL 추가: `https://maum-chaekjang-web.onrender.com`
- 파일: `backend/server.js`

#### 7. Render 배포 설정
- `render.yaml` 파일 생성 및 설정
- `maum-chaekjang-web` 서비스 추가 (React SPA)
- SPA 라우팅 규칙 설정
- 캐싱 헤더 설정

#### 8. README 업데이트
- 데모 사이트 URL 수정: `https://maum-chaekjang-web.onrender.com`
- 인증 코드 안내 유지 (storytest, maum2025, 404notfound)

### 배포 상태
- Frontend: `https://maum-chaekjang-web.onrender.com`
- Backend: `https://story-backend.onrender.com`
- 자동 배포 설정 완료

### 주요 변경사항
1. Lovable 의존성 완전 제거
2. 정적 사이트 호스팅으로 전환 (Render)
3. SPA 라우팅 설정으로 404 에러 해결
4. 음성 녹음 웹훅 연동 준비 완료

### 다음 단계
- Render 배포 완료 대기
- 웹훅 연결 테스트
- 음성 녹음 기능 테스트
